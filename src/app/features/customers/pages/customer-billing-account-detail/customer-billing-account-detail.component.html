<app-navbar></app-navbar>
<div class="container-fluid">
  <div class="row">
    <div class="col-12 col-lg-3">
      <div class="col-12 app-user-info">
        <app-user-info></app-user-info>
      </div>
    </div>
    <div class="col-12 col-lg-9 d-flex justify-content-end p-0">
      <app-settings-menu></app-settings-menu>
    </div>
  </div>
  <div class="bar-menu">
    <app-bar-menu></app-bar-menu>
  </div>
</div>

<app-main-layout [layoutTitle]="'Customer Account'">
  <button
    class="ml-5"
    etiyaButton="new-address"
    [routerLink]="'/dashboard/customers/customer-bill/' + selectedCustomerId"
    routerLinkActive="active"
  >
    <img src="../../../../assets/img/add_new.png" alt="" />Create New Account
  </button>

  <div class="p-2"></div>
  <div class="e-customer-content">
    <div class="m-3">
      <app-table-accordion-header></app-table-accordion-header>
      <ng-template
        ngFor
        let-bill
        [ngForOf]="billingAccountList | pagination: currentPage"
      >
        <app-table-accordion
          [billingAccount]="bill"
          (onBillingAccountDelete)="onBillingAccDelete($event)"
          [customerId]="selectedCustomerId"
        ></app-table-accordion>
      </ng-template>
      <nav class="pagenav">
        <ul class="pagination">
          <li
            *ngIf="currentPage > 0"
            (click)="back()"
            class="page-item page-item-button"
          >
            <a class="page-link"><</a>
          </li>

          <ng-container *ngFor="let index of pageNumber | createFakeArray">
            <li class="page-item" (click)="currentPage = index">
              <a
                [ngClass]="{ active: index == currentPage }"
                class="page-link"
                >{{ index + 1 }}</a
              >
            </li>
          </ng-container>

          <li
            *ngIf="currentPage < pageNumber - 1"
            (click)="next()"
            class="page-item page-item-button"
          >
            <a class="page-link">></a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</app-main-layout>
